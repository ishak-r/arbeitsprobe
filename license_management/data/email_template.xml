<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <data noupdate="1">
        <record id="email_template_license_expiration" model="mail.template">
            <field name="name">License Expiration Reminder</field>
            <field name="model_id" ref="model_software_license"/>
            <field name="subject">Your License {{object.license_key}} is Expiring Soon</field>
            <field name="email_from">{{object.company_id.email or user.email}}</field>
            <field name="email_to" eval="False"/>
            <field name="use_default_to" eval="True"/>
            <field name="body_html" type="html">
                <div style="font-family: Arial, sans-serif; font-size: 14px;">
                    <p>Dear <t t-out="object.partner_id.name"/>,</p>
                    
                    <p>This is a friendly reminder that your software license is expiring soon.</p>
                    
                    <table style="border-collapse: collapse; width: 100%; margin: 20px 0;">
                        <tr>
                            <td style="padding: 8px; border: 1px solid #ddd; background-color: #f2f2f2; font-weight: bold;">License Number:</td>
                            <td style="padding: 8px; border: 1px solid #ddd;">
                                <t t-out="object.license_key"/>
                            </td>
                        </tr>
                        <tr>
                            <td style="padding: 8px; border: 1px solid #ddd; background-color: #f2f2f2; font-weight: bold;">Product:</td>
                            <td style="padding: 8px; border: 1px solid #ddd;"><t t-out="object.product_id.name"/></td>
                        </tr>
                        <tr>
                            <td style="padding: 8px; border: 1px solid #ddd; background-color: #f2f2f2; font-weight: bold;">Expiration Date:</td>
                            <td style="padding: 8px; border: 1px solid #ddd; color: red; font-weight: bold;"><t t-out="object.expiration_date"/></td>
                        </tr>
                        <tr>
                            <td style="padding: 8px; border: 1px solid #ddd; background-color: #f2f2f2; font-weight: bold;">Days Remaining:</td>
                            <td style="padding: 8px; border: 1px solid #ddd;"><t t-out="object.days_until_expiration"/> days</td>
                        </tr>
                    </table>
                    
                    <p>To ensure uninterrupted service, please contact us to renew your license.</p>
                    
                    <p>If you have any questions, please don't hesitate to reach out.</p>
                    
                    <p>Best regards,<br/>
                    <t t-out="object.company_id.name"/></p>
                </div>
            </field>
        </record>
    </data>
</odoo>
